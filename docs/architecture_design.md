# 学生选课管理系统 - 系统架构设计

## 1. 系统总体架构

本系统采用前后端分离的架构，基于Spring Boot框架开发后端，前端采用Vue.js框架。整体架构分为以下几层：

```
+---------------------------+
|       表现层（前端）       |
|   Vue.js + Element UI     |
+---------------------------+
             ↑↓
+---------------------------+
|       控制层（后端）       |
|       Controllers         |
+---------------------------+
             ↑↓
+---------------------------+
|       业务逻辑层          |
|       Services           |
+---------------------------+
             ↑↓
+---------------------------+
|       数据访问层          |
|       Mappers            |
+---------------------------+
             ↑↓
+---------------------------+
|       数据存储层          |
|       MySQL Database     |
+---------------------------+
```

### 1.1 表现层（前端）

- 基于Vue.js框架，使用Element UI组件库
- 负责用户界面展示及与用户的交互
- 通过RESTful API与后端进行数据交互
- 包含学生、教师和管理员三种不同的界面

### 1.2 控制层（后端）

- 基于Spring Boot框架的Controller
- 接收并处理前端请求
- 调用业务逻辑层的服务
- 返回处理结果和数据给前端

### 1.3 业务逻辑层

- 基于Spring Boot框架的Service
- 包含系统的核心业务逻辑
- 处理数据的验证、转换和业务规则的实现
- 调用数据访问层获取或修改数据

### 1.4 数据访问层

- 基于MyBatis框架
- 提供对数据库的访问接口
- 执行SQL查询、更新等操作
- 将查询结果转换为业务对象

### 1.5 数据存储层

- 使用MySQL关系型数据库
- 存储系统的所有持久化数据

## 2. 技术架构

### 2.1 后端技术栈

- **主框架**：Spring Boot 3.4.5
- **ORM框架**：MyBatis 3.0.4
- **数据库**：MySQL 8.0
- **API文档**：Swagger/OpenAPI
- **权限认证**：JWT (JSON Web Token)
- **分页插件**：PageHelper
- **文件存储**：阿里云OSS

### 2.2 前端技术栈

- **主框架**：Vue.js
- **UI组件库**：Element UI
- **HTTP客户端**：Axios
- **路由管理**：Vue Router
- **状态管理**：Vuex

## 3. 核心模块设计

### 3.1 用户认证模块

- 负责用户登录、注册、密码重置等功能
- 使用JWT实现身份验证和会话管理
- 区分学生、教师、管理员三种角色的权限管理

### 3.2 学生选课模块

- 提供课程列表查询、筛选功能
- 实现课程选择、退选功能
- 处理选课规则验证（课程容量、时间冲突等）
- 提供选课结果查询功能

### 3.3 教师课程管理模块

- 提供课程创建、更新功能
- 管理课程信息和选课学生
- 实现成绩录入和修改功能
- 生成课程统计报表

### 3.4 系统管理模块

- 管理学生、教师账户信息
- 管理课程信息
- 系统配置管理（选课时间设置等）
- 数据备份和恢复功能

## 4. 部署架构

系统采用三层部署架构：

```
+------------------+     +------------------+     +------------------+
|                  |     |                  |     |                  |
|   客户端层        |     |   应用服务层      |     |   数据服务层      |
|  (Web浏览器)     |---->|  (Spring Boot)   |---->|    (MySQL)       |
|                  |     |                  |     |                  |
+------------------+     +------------------+     +------------------+
```

### 4.1 客户端层

- Web浏览器
- 移动设备浏览器
- 可能的小程序或移动应用

### 4.2 应用服务层

- Spring Boot应用服务器
- 可部署在独立的服务器或云平台
- 可根据需要进行水平扩展

### 4.3 数据服务层

- MySQL数据库服务器
- 可配置主从复制提高读性能
- 定期备份保障数据安全

## 5. 系统接口设计

系统提供标准的RESTful API，主要包括以下类型：

### 5.1 用户认证接口

- `POST /api/auth/login`：用户登录
- `POST /api/auth/register`：用户注册（学生）
- `POST /api/auth/password/reset`：密码重置

### 5.2 学生相关接口

- `GET /api/students/{id}`：获取学生信息
- `PUT /api/students/{id}`：更新学生信息
- `GET /api/students/{id}/courses`：获取学生已选课程
- `GET /api/students/{id}/grades`：获取学生成绩

### 5.3 课程相关接口

- `GET /api/courses`：获取课程列表
- `GET /api/courses/{id}`：获取课程详情
- `POST /api/courses`：创建新课程（教师）
- `PUT /api/courses/{id}`：更新课程信息（教师）

### 5.4 选课相关接口

- `POST /api/selections`：选择课程
- `DELETE /api/selections/{id}`：退选课程
- `GET /api/courses/{id}/students`：获取选课学生列表（教师）
- `PUT /api/selections/{id}/grade`：更新学生成绩（教师）

### 5.5 管理员接口

- `GET /api/admin/students`：获取所有学生
- `POST /api/admin/teachers`：添加教师
- `GET /api/admin/teachers`：获取所有教师
- `PUT /api/admin/system/settings`：更新系统设置

## 6. 安全设计

### 6.1 身份验证

- 基于JWT的令牌认证
- 密码加密存储（使用BCrypt等算法）
- 会话超时自动登出

### 6.2 授权控制

- 基于角色的访问控制（RBAC）
- API权限校验
- 操作日志记录

### 6.3 数据安全

- 重要数据加密存储
- 定期数据备份
- 防SQL注入措施

### 6.4 传输安全

- 使用HTTPS协议
- 敏感数据传输加密
- 防跨站请求伪造（CSRF）措施 